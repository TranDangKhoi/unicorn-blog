"use strict";(self.webpackChunkunicorn_blog=self.webpackChunkunicorn_blog||[]).push([[860],{4762:function(e,r,n){n.d(r,{Y:function(){return l}});var t=n(1413),s=n(4925),a=(n(2791),n(1134)),c=n(184),o=["checked","children","control","name"],l=function(e){var r=e.checked,n=e.children,l=e.control,i=e.name,d=(0,s.Z)(e,o),u=(0,a.bc)({control:l,name:i,defaultValue:""}).field;return(0,c.jsxs)("label",{children:[(0,c.jsx)("input",(0,t.Z)((0,t.Z)({checked:r,type:"radio",className:"hidden-input"},u),d)),(0,c.jsxs)("div",{className:"flex items-center font-medium cursor-pointer gap-x-3",children:[(0,c.jsx)("div",{className:"w-7 h-7 rounded-full border flex items-center justify-center p-1  ".concat(r?"bg-primary border-primary text-white":"border-gray-300 border-2 text-transparent"),children:(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,c.jsx)("span",{children:n})]})]})}},1860:function(e,r,n){n.r(r);var t=n(4165),s=n(1413),a=n(5861),c=n(4695),o=n(3951),l=n(8654),i=n(5510),d=n(2112),u=n(4762),m=n(9808),h=n(1199),f=n(9062),v=n(2791),x=n(1134),p=n(9085),b=n(123),j=n(333),g=n.n(j),k=n(3585),w=n(6524),y=n(184);r.default=function(){var e=(0,m.a)().userInfo,r=(0,x.cI)({mode:"onSubmit",defaultValues:{name:"",slug:"",status:1,createdAt:new Date},resolver:(0,c.X)(b._Z)}),n=r.control,j=r.handleSubmit,N=r.watch,A=r.reset,E=r.formState,Z=E.errors,D=E.isSubmitting,C=Number(N("status"));(0,v.useEffect)((function(){var e,r=Object.values(Z);r.length>0&&(p.Am.dismiss(r.find((function(e){return 0===e}))),p.Am.error(null===(e=r[0])||void 0===e?void 0:e.message,{pauseOnHover:!0,closeOnClick:!0}))}),[Z]);var P=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=(0,s.Z)({},r)).slug=g()(n.name,{lower:!0}),a=(0,f.hJ)(h.db,"categories"),e.prev=3,e.next=6,(0,f.ET)(a,(0,s.Z)((0,s.Z)({},n),{},{createdAt:(0,f.Bt)()}));case 6:p.Am.success("Created new category successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),p.Am.error(e.t0.message);case 12:return e.prev=12,A({name:"",slug:"",status:1,createdAt:new Date}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})));return function(r){return e.apply(this,arguments)}}();return(null===e||void 0===e?void 0:e.role)!==k.xZ.ADMIN&&(null===e||void 0===e?void 0:e.role)!==k.xZ.MOD?null:(0,y.jsxs)("div",{children:[(0,y.jsx)(w.Z,{title:"New category",desc:"Add new category"}),(0,y.jsxs)("form",{onSubmit:j(P),autoComplete:"off",children:[(0,y.jsx)("div",{className:"form-layout",children:(0,y.jsxs)(l.g,{children:[(0,y.jsx)(d.__,{children:"Name"}),(0,y.jsx)(i.I,{control:n,name:"name",placeholder:"Enter your category name"})]})}),(0,y.jsx)("div",{className:"form-layout",children:(0,y.jsxs)(l.v,{className:"my-5",children:[(0,y.jsx)(d.__,{children:"Status:"}),(0,y.jsxs)(l.v,{children:[(0,y.jsx)(u.Y,{name:"status",control:n,checked:C===k.bk.APPROVED,value:k.bk.APPROVED,children:"Approved"}),(0,y.jsx)(u.Y,{name:"status",control:n,checked:C===k.bk.PENDING,value:k.bk.PENDING,children:"Pending"}),(0,y.jsx)(u.Y,{name:"status",control:n,checked:C===k.bk.REJECTED,value:k.bk.REJECTED,children:"Reject"})]})]})}),(0,y.jsx)(o.z,{type:"submit",kind:"primary",className:"mx-auto",isLoading:D,disabled:D,children:"Add new category"})]})]})}}}]);
//# sourceMappingURL=860.d529aa6f.chunk.js.map