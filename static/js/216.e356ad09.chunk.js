"use strict";(self.webpackChunkunicorn_blog=self.webpackChunkunicorn_blog||[]).push([[216],{4216:function(e,r,n){n.r(r),n.d(r,{default:function(){return N}});var s,t=n(4165),a=n(5861),o=n(4695),c=n(3951),i=n(8654),u=n(5510),l=n(2112),d=n(330),m=n(168),h=n(2791),p=n(6444),f=n(184),x=p.ZP.div(s||(s=(0,m.Z)(["\n  margin-left: 10px;\n  padding-left: 15px;\n  position: relative;\n  color: ",';\n  &::after {\n    content: "";\n    position: absolute;\n    background: ',";\n    border-radius: 100rem;\n    top: 45%;\n    left: 0;\n    transform: translateY(-50%);\n    width: 6px;\n    height: 6px;\n  }\n"])),(function(e){return e.theme.gray6B}),(function(e){return e.theme.gray6B})),g=function(e){var r=e.children,n=e.className;return(0,f.jsx)(x,{className:n,children:r})},b=n(9808),j=n(1199),v=n(3002),w=n(9062),k=n(1134),I=n(7689),y=n(1087),U=n(9085),A=n(123),S=n(333),_=n.n(S),C=n(3585),E=n(5318),Z=n(7316),N=function(){var e=(0,I.s0)(),r=(0,b.a)(),n=r.userInfo,s=r.setUserInfo,m=(0,k.cI)({mode:"onSubmit",resolver:(0,o.X)(A.JJ)}),p=m.control,x=m.handleSubmit,S=m.formState,N=S.errors,P=S.isSubmitting,B=S.isValid;(0,h.useEffect)((function(){document.body.scrollIntoView({block:"start"})}),[]),(0,h.useEffect)((function(){var e,r=Object.values(N);r.length>0&&(U.Am.dismiss(r.find((function(e){return 0===e}))),U.Am.error(null===(e=r[0])||void 0===e?void 0:e.message,{pauseOnHover:!0,closeOnClick:!0}))}),[N]);var F=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,B){r.next=3;break}return r.abrupt("return");case 3:return U.Am.info("Signing up, please wait...",{hideProgressBar:!0}),r.next=6,(0,v.Xb)(j.I,n.email,n.password);case 6:return a=r.sent,r.next=9,(0,v.ck)(j.I.currentUser,{displayName:n.username});case 9:return r.next=11,(0,v.ck)(j.I.currentUser,{photoURL:"https://ui-avatars.com/api/?background=random&name=".concat(n.username)});case 11:return r.next=13,s(a);case 13:return r.next=15,(0,w.pl)((0,w.JU)(j.db,"users",j.I.currentUser.uid),{username:n.username,avatar:j.I.currentUser.photoURL,email:n.email,password:n.password,createdAt:(0,w.Bt)(),status:C.iQ.ACTIVE,role:C.xZ.USER,usernameSlug:_()(n.username,{lower:!0}),userId:j.I.currentUser.uid});case 15:U.Am.dismiss(),U.Am.success("Created account successfully!",{hideProgressBar:!0}),e("/"),r.next=24;break;case 20:r.prev=20,r.t0=r.catch(0),console.log(r.t0),U.Am.error("This e-mail address has already been used, please pick another one!");case 24:case"end":return r.stop()}}),r,null,[[0,20]])})));return function(e){return r.apply(this,arguments)}}();return n?(0,f.jsx)(Z.default,{}):(0,f.jsx)(d.Ar,{children:(0,f.jsx)(E.Z,{children:(0,f.jsxs)("form",{className:"form",onSubmit:x(F),autoComplete:"off",children:[(0,f.jsxs)(i.g,{children:[(0,f.jsx)(l.__,{htmlFor:"username",children:"Username"}),(0,f.jsx)(u.I,{type:"text",name:"username",placeholder:"Enter your username",control:p}),(0,f.jsx)(g,{children:"Your username must have less than 24 characters"})]}),(0,f.jsxs)(i.g,{children:[(0,f.jsx)(l.__,{htmlFor:"email",children:"Email address"}),(0,f.jsx)(u.I,{type:"text",name:"email",placeholder:"Enter your email",control:p}),(0,f.jsx)(g,{children:"Your email address must be in the correct pattern (e.g: foobar@gmail.com)"})]}),(0,f.jsxs)(i.g,{children:[(0,f.jsx)(l.__,{htmlFor:"password",children:"Password"}),(0,f.jsx)(u.C,{control:p}),(0,f.jsx)(g,{children:"Your password must have more than 8 characters"})]}),(0,f.jsxs)(i.g,{children:[(0,f.jsx)(l.__,{htmlFor:"confirmPassword",children:"Re-confirm password"}),(0,f.jsx)(u.C,{name:"confirmPassword",control:p})]}),(0,f.jsx)(c.z,{type:"submit",isLoading:P,disabled:P,children:"Sign up"}),(0,f.jsxs)("div",{className:"redirect",children:["Already had an account?"," ",(0,f.jsx)(y.rU,{className:"redirect-link",to:"/sign-in",children:"Sign in here"})]})]})})})}}}]);
//# sourceMappingURL=216.e356ad09.chunk.js.map