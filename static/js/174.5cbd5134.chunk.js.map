{"version":3,"file":"static/js/174.5cbd5134.chunk.js","mappings":"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","sources":["components/Action/ActionView.js","components/Action/ActionEdit.js","components/Action/ActionDelete.js","components/Table/Table.js","module/Post/PostManage.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst ActionView = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n        />\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionView;\r\n","import React from \"react\";\r\n\r\nconst ActionEdit = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionEdit;\r\n","import React from \"react\";\r\n\r\nconst ActionDelete = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionDelete;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst TableStyles = styled.div`\r\n  overflow-x: auto;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  &::-webkit-scrollbar {\r\n    width: 5px; // set width cho scrollbar\r\n    border-radius: 100rem;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    width: 5px; // set width cho scrollbar\r\n\r\n    background: #ccc; // set background cho scrollbar track (các phần có màu ghi chưa được kéo tới)\r\n    border-radius: 100rem;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    width: 5px; // set width cho scrollbar\r\n    background: ${(props) =>\r\n      props.theme.primary}; // setback ground cho chính thanh scrollbar\r\n    border-radius: 100rem;\r\n  }\r\n  table {\r\n    width: 100%;\r\n  }\r\n  thead {\r\n    background-color: #f0f0f0;\r\n  }\r\n  th,\r\n  td {\r\n    vertical-align: middle;\r\n    text-align: center;\r\n  }\r\n  th {\r\n    padding: 20px 30px;\r\n    font-weight: 700;\r\n    text-align: center;\r\n  }\r\n  td {\r\n    padding: 15px 30px;\r\n    white-space: nowrap;\r\n  }\r\n  tbody {\r\n    background-color: #f8f8f8;\r\n  }\r\n  tbody td {\r\n    font-weight: 500;\r\n    font-size: 17px;\r\n  }\r\n  tbody tr {\r\n    border-bottom-color: transparent;\r\n  }\r\n  @media screen and (max-width: 1279.98px) {\r\n    thead th {\r\n      font-size: 16px;\r\n    }\r\n    tbody td {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n`;\r\nconst Table = ({ children, className = \"\" }) => {\r\n  return (\r\n    <TableStyles className={className}>\r\n      <table>{children}</table>\r\n    </TableStyles>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import { ActionDelete, ActionEdit, ActionView } from \"components/Action\";\r\nimport { Button } from \"components/Button\";\r\nimport { LabelStatus } from \"components/Label\";\r\nimport { Heading } from \"components/Layout\";\r\nimport { Table } from \"components/Table\";\r\nimport { useAuth } from \"contexts/auth-context\";\r\nimport { auth, db } from \"firebase-app/firebase-config\";\r\nimport {\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDocs,\r\n  limit,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  startAfter,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport useFormattedDisplay from \"hooks/useFormattedDisplay\";\r\nimport { debounce } from \"lodash\";\r\nimport DashboardHeading from \"module/Category/DashboardHeading\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport Swal from \"sweetalert2\";\r\nimport { postStatus, userRole } from \"utils/constants\";\r\nconst POSTS_PER_PAGE = 8;\r\nconst PostManage = () => {\r\n  const { userInfo } = useAuth();\r\n  const [postList, setPostList] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [lastDoc, setLastDoc] = useState({});\r\n  const [isEmpty, setIsEmpty] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { displayLocalTimeAndDateBySeconds, displayTruncatedID } =\r\n    useFormattedDisplay();\r\n  const handleLoadMorePosts = async () => {\r\n    // Ví dụ lastDoc (category cuối cùng) của page 1 là Gaming thì cái query này sẽ lấy ra tất cả thằng đằng sau thằng Gaming đó để hiển thị ra tiếp\r\n    const nextQuery = query(\r\n      collection(db, \"posts\"),\r\n      orderBy(\"name\", \"desc\"),\r\n      startAfter(lastDoc || 0),\r\n      limit(POSTS_PER_PAGE)\r\n    );\r\n    onSnapshot(nextQuery, (snapshot) => {\r\n      let results = [];\r\n      snapshot.docs.forEach((doc) => {\r\n        results.push({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        });\r\n      });\r\n      const isCollectionEmpty = snapshot.size === 0;\r\n      setIsEmpty(isCollectionEmpty);\r\n      setPostList([...postList, ...results]);\r\n    });\r\n    const documentSnapshots = await getDocs(nextQuery);\r\n    const lastVisible =\r\n      documentSnapshots.docs[documentSnapshots.docs.length - 1];\r\n    setLastDoc(lastVisible);\r\n  };\r\n  useEffect(() => {\r\n    async function getPosts() {\r\n      const colRef = collection(db, \"posts\");\r\n      if (userInfo.role !== userRole.ADMIN && userInfo.role !== userRole.MOD) {\r\n        const firstQuery = filter\r\n          ? query(\r\n              colRef,\r\n              where(\"name\", \">=\", filter),\r\n              where(\"name\", \"<=\", filter + \"utf8\"),\r\n              where(\"userId\", \"==\", auth.currentUser.uid),\r\n              orderBy(\"name\", \"desc\")\r\n            )\r\n          : query(\r\n              colRef,\r\n              limit(POSTS_PER_PAGE),\r\n              where(\"userId\", \"==\", userInfo.uid),\r\n              orderBy(\"createdAt\", \"desc\")\r\n            );\r\n        // Lấy ra toàn bộ docs\r\n        const documentSnapshots = await getDocs(firstQuery);\r\n        // Lấy ra thông tin của doc cuối cùng CỦA PAGE HIỆN TẠI\r\n        const lastVisible =\r\n          documentSnapshots.docs[documentSnapshots.docs.length - 1];\r\n\r\n        //  Hiển thị các docs lấy được ra màn hình\r\n        onSnapshot(firstQuery, colRef, (snapshot) => {\r\n          let results = [];\r\n          snapshot.docs.forEach((doc) => {\r\n            results.push({\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            });\r\n          });\r\n          setPostList(results);\r\n        });\r\n        // Gán cái thằng lastVisible (thằng doc cuối cùng của page hiện tại) kia cho một state là lastDoc để xử lí sau này\r\n        setLastDoc(lastVisible);\r\n      } else {\r\n        const firstQuery = filter\r\n          ? query(\r\n              colRef,\r\n              where(\"name\", \">=\", filter),\r\n              where(\"name\", \"<=\", filter + \"utf8\"),\r\n              orderBy(\"name\", \"desc\")\r\n            )\r\n          : query(colRef, limit(POSTS_PER_PAGE), orderBy(\"createdAt\", \"desc\"));\r\n        // Lấy ra toàn bộ docs\r\n        const documentSnapshots = await getDocs(firstQuery);\r\n        // Lấy ra thông tin của doc cuối cùng CỦA PAGE HIỆN TẠI\r\n        const lastVisible =\r\n          documentSnapshots.docs[documentSnapshots.docs.length - 1];\r\n\r\n        //  Hiển thị các docs lấy được ra màn hình\r\n        onSnapshot(firstQuery, colRef, (snapshot) => {\r\n          let results = [];\r\n          snapshot.docs.forEach((doc) => {\r\n            results.push({\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            });\r\n          });\r\n          setPostList(results);\r\n        });\r\n        // Gán cái thằng lastVisible (thằng doc cuối cùng của page hiện tại) kia cho một state là lastDoc để xử lí sau này\r\n        setLastDoc(lastVisible);\r\n      }\r\n    }\r\n    getPosts();\r\n  }, [filter, userInfo.role, userInfo.uid]);\r\n\r\n  const handleFilter = debounce((e) => {\r\n    setFilter(e.target.value);\r\n  }, 1000);\r\n\r\n  const handleDeletePost = async (docId) => {\r\n    try {\r\n      const docToBeDeletedRef = doc(db, \"posts\", docId);\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"You won't be able to revert this!\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#1DC071\",\r\n        cancelButtonColor: \"#d33\",\r\n        cancelButtonText: \"NO STOP!\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n      }).then(async (result) => {\r\n        if (result.isConfirmed) {\r\n          await deleteDoc(docToBeDeletedRef);\r\n          setFilter(\"\");\r\n          Swal.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\r\n        }\r\n      });\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n  const renderLabelStatus = (status) => {\r\n    switch (status) {\r\n      case postStatus.APPROVED:\r\n        return <LabelStatus type=\"approved\">Active</LabelStatus>;\r\n      case postStatus.PENDING:\r\n        return <LabelStatus type=\"pending\">Pending</LabelStatus>;\r\n      case postStatus.REJECTED:\r\n        return <LabelStatus type=\"reject\">Rejected</LabelStatus>;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Heading>Manage posts</Heading>\r\n      <div className=\"flex justify-end mb-10\">\r\n        <div className=\"w-full max-w-[300px]\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"w-full p-4 border border-gray-300 border-solid rounded-lg\"\r\n            placeholder=\"Search post...\"\r\n            onChange={handleFilter}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            <th>Id</th>\r\n            <th>Thumbnail</th>\r\n            <th>Post</th>\r\n            <th>Category</th>\r\n            <th>Author</th>\r\n            <th>Status</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {postList.length > 0 &&\r\n            postList.map((post) => (\r\n              <tr key={post.id}>\r\n                <td title={post.id}>{displayTruncatedID(post?.id, 8)}</td>\r\n                <td>\r\n                  <div className=\"flex items-center gap-x-3\">\r\n                    <img\r\n                      src={post.imageURL}\r\n                      alt=\"\"\r\n                      className=\"w-[100px] h-[75px] rounded-lg object-cover\"\r\n                    />\r\n                  </div>\r\n                </td>\r\n                <td className=\"!text-left\">\r\n                  <div className=\"flex flex-col items-center justify-center\">\r\n                    <h3 className=\"font-semibold max-w-[300px] whitespace-pre-wrap line-clamp-2\">\r\n                      {post.title}\r\n                    </h3>\r\n                    <time className=\"text-sm text-gray-500\">\r\n                      Posted at:{\" \"}\r\n                      {displayLocalTimeAndDateBySeconds(post.createdAt.seconds)}\r\n                    </time>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <span className=\"text-gray-500\">{post.category.name}</span>\r\n                </td>\r\n                <td>\r\n                  <span className=\"text-gray-500\">{post.user.username}</span>\r\n                </td>\r\n                <td>{renderLabelStatus(post.status)}</td>\r\n                <td>\r\n                  <div className=\"flex items-center text-gray-500 gap-x-3\">\r\n                    <ActionView\r\n                      onClick={() => navigate(`/${post.slug}`)}\r\n                    ></ActionView>\r\n                    <ActionEdit\r\n                      onClick={() =>\r\n                        navigate(`/manage/update-post?id=${post.id}`)\r\n                      }\r\n                    ></ActionEdit>\r\n                    <ActionDelete\r\n                      onClick={() => handleDeletePost(post.id)}\r\n                    ></ActionDelete>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n      {!isEmpty ? (\r\n        <div className=\"mt-10\">\r\n          <Button onClick={handleLoadMorePosts}>Load more</Button>\r\n        </div>\r\n      ) : (\r\n        <DashboardHeading\r\n          className=\"italic text-center\"\r\n          desc=\"The end.\"\r\n          title=\"No more data\"\r\n        ></DashboardHeading>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostManage;\r\n"],"names":["onClick","className","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","TableStyles","styled","props","theme","primary","children","userInfo","useAuth","useState","postList","setPostList","filter","setFilter","lastDoc","setLastDoc","isEmpty","setIsEmpty","navigate","useNavigate","useFormattedDisplay","displayLocalTimeAndDateBySeconds","displayTruncatedID","handleLoadMorePosts","nextQuery","query","collection","db","orderBy","startAfter","limit","onSnapshot","snapshot","results","docs","forEach","doc","push","id","data","isCollectionEmpty","size","getDocs","documentSnapshots","lastVisible","length","useEffect","colRef","role","userRole","firstQuery","where","auth","uid","getPosts","handleFilter","debounce","e","target","value","handleDeletePost","docId","docToBeDeletedRef","Swal","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","then","result","isConfirmed","deleteDoc","err","toast","message","renderLabelStatus","status","postStatus","type","placeholder","onChange","map","post","src","imageURL","alt","createdAt","seconds","category","name","user","username","slug","desc"],"sourceRoot":""}