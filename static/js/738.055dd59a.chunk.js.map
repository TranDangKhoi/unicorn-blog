{"version":3,"file":"static/js/738.055dd59a.chunk.js","mappings":"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","sources":["components/Action/ActionView.js","components/Action/ActionEdit.js","components/Action/ActionDelete.js","components/Table/Table.js","module/User/UserTable.js","module/User/UserManage.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst ActionView = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n        />\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionView;\r\n","import React from \"react\";\r\n\r\nconst ActionEdit = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionEdit;\r\n","import React from \"react\";\r\n\r\nconst ActionDelete = ({ onClick = () => {} }) => {\r\n  return (\r\n    <span\r\n      className=\"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer\"\r\n      onClick={onClick}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        className=\"w-5 h-5\"\r\n        fill=\"none\"\r\n        viewBox=\"0 0 24 24\"\r\n        stroke=\"currentColor\"\r\n        strokeWidth=\"2\"\r\n      >\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n        />\r\n      </svg>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default ActionDelete;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst TableStyles = styled.div`\r\n  overflow-x: auto;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  &::-webkit-scrollbar {\r\n    width: 5px; // set width cho scrollbar\r\n    border-radius: 100rem;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    width: 5px; // set width cho scrollbar\r\n\r\n    background: #ccc; // set background cho scrollbar track (các phần có màu ghi chưa được kéo tới)\r\n    border-radius: 100rem;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    width: 5px; // set width cho scrollbar\r\n    background: ${(props) =>\r\n      props.theme.primary}; // setback ground cho chính thanh scrollbar\r\n    border-radius: 100rem;\r\n  }\r\n  table {\r\n    width: 100%;\r\n  }\r\n  thead {\r\n    background-color: #f0f0f0;\r\n  }\r\n  th,\r\n  td {\r\n    vertical-align: middle;\r\n    text-align: center;\r\n  }\r\n  th {\r\n    padding: 20px 30px;\r\n    font-weight: 700;\r\n    text-align: center;\r\n  }\r\n  td {\r\n    padding: 15px 30px;\r\n    white-space: nowrap;\r\n  }\r\n  tbody {\r\n    background-color: #f8f8f8;\r\n  }\r\n  tbody td {\r\n    font-weight: 500;\r\n    font-size: 17px;\r\n  }\r\n  tbody tr {\r\n    border-bottom-color: transparent;\r\n  }\r\n  @media screen and (max-width: 1279.98px) {\r\n    thead th {\r\n      font-size: 16px;\r\n    }\r\n    tbody td {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n`;\r\nconst Table = ({ children, className = \"\" }) => {\r\n  return (\r\n    <TableStyles className={className}>\r\n      <table>{children}</table>\r\n    </TableStyles>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import { ActionDelete, ActionEdit, ActionView } from \"components/Action\";\r\nimport { Button } from \"components/Button\";\r\nimport { Field } from \"components/Field\";\r\nimport { Label, LabelRole, LabelStatus } from \"components/Label\";\r\nimport { Table } from \"components/Table\";\r\nimport { db } from \"firebase-app/firebase-config\";\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  limit,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  startAfter,\r\n  deleteDoc,\r\n  doc,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport useFormattedDisplay from \"hooks/useFormattedDisplay\";\r\nimport { debounce } from \"lodash\";\r\nimport DashboardHeading from \"module/Category/DashboardHeading\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { userRole, userStatus } from \"utils/constants\";\r\nconst USERS_PER_PAGE = 8;\r\n\r\nconst UserTable = () => {\r\n  const [userList, setUserList] = useState([]);\r\n  const [lastDoc, setLastDoc] = useState();\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [isEmpty, setIsEmpty] = useState(false);\r\n  const handleFilter = debounce((e) => {\r\n    setFilter(e.target.value);\r\n  }, 1000);\r\n  const handleLoadMoreUsers = async () => {\r\n    const nextQuery = query(\r\n      collection(db, \"users\"),\r\n      orderBy(\"username\", \"desc\"),\r\n      startAfter(lastDoc || 0),\r\n      limit(USERS_PER_PAGE)\r\n    );\r\n    onSnapshot(nextQuery, (snapshot) => {\r\n      let results = [];\r\n      snapshot.docs.forEach((doc) => {\r\n        results.push({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        });\r\n      });\r\n      const isCollectionEmpty = snapshot.size === 0;\r\n      setIsEmpty(isCollectionEmpty);\r\n      setUserList([...userList, ...results]);\r\n    });\r\n    // Ok giờ, lấy ra tất cả docs của page mới\r\n    const documentSnapshots = await getDocs(nextQuery);\r\n    // Lấy doc cuối cùng của page mới\r\n    const lastVisible =\r\n      documentSnapshots.docs[documentSnapshots.docs.length - 1];\r\n    // set cho state lastDoc = thông tin của thằng doc cuối cùng của page mới đó, rồi lại quay trở lại chạy vào useEffect\r\n    setLastDoc(lastVisible);\r\n  };\r\n  useEffect(() => {\r\n    async function getUsers() {\r\n      const colRef = collection(db, \"users\");\r\n      const firstQuery = filter\r\n        ? query(\r\n            colRef,\r\n            where(\"username\", \">=\", filter),\r\n            where(\"username\", \"<=\", filter + \"utf8\"),\r\n            orderBy(\"username\", \"desc\")\r\n          )\r\n        : query(colRef, limit(USERS_PER_PAGE), orderBy(\"username\", \"desc\"));\r\n      const documentSnapshots = await getDocs(firstQuery);\r\n      const lastVisible =\r\n        documentSnapshots.docs[documentSnapshots.docs.length - 1];\r\n\r\n      onSnapshot(firstQuery, colRef, (snapshot) => {\r\n        let results = [];\r\n        snapshot.docs.forEach((doc) => {\r\n          results.push({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n          });\r\n        });\r\n        setUserList(results);\r\n      });\r\n      setLastDoc(lastVisible);\r\n    }\r\n    getUsers();\r\n  }, [filter]);\r\n  const navigate = useNavigate();\r\n  const { displayLocalTimeAndDateBySeconds, displayTruncatedID } =\r\n    useFormattedDisplay();\r\n  useEffect(() => {\r\n    const colRef = collection(db, \"users\");\r\n    onSnapshot(colRef, (snapshot) => {\r\n      const results = [];\r\n      snapshot.docs.forEach((doc) => {\r\n        results.push({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        });\r\n      });\r\n      setUserList(results);\r\n    });\r\n  }, []);\r\n\r\n  const renderLabelStatus = (status) => {\r\n    switch (status) {\r\n      case userStatus.ACTIVE:\r\n        return <LabelStatus type=\"approved\">Active</LabelStatus>;\r\n      case userStatus.PENDING:\r\n        return <LabelStatus type=\"pending\">Pending</LabelStatus>;\r\n      case userStatus.BANNED:\r\n        return <LabelStatus type=\"reject\">Banned</LabelStatus>;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  const renderUserRole = (role) => {\r\n    switch (role) {\r\n      case userRole.ADMIN:\r\n        return (\r\n          <LabelRole type=\"admin\">\r\n            Admin<i class=\"fa-solid fa-crown\"></i>\r\n          </LabelRole>\r\n        );\r\n      case userRole.MOD:\r\n        return (\r\n          <LabelRole type=\"mod\">\r\n            Mod <i class=\"fa-solid fa-user-tie\"></i>\r\n          </LabelRole>\r\n        );\r\n      case userRole.USER:\r\n        return (\r\n          <LabelRole type=\"user\">\r\n            User <i class=\"fa-solid fa-user\"></i>\r\n          </LabelRole>\r\n        );\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  const handleDeleteUser = async (user) => {\r\n    const colRef = doc(db, \"users\", user.userId);\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You won't be able to revert this!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#1DC071\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then(async (result) => {\r\n      if (result.isConfirmed) {\r\n        // Không xóa được trong authen\r\n        await deleteDoc(colRef);\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Deleted user successfully\",\r\n          timer: 1500,\r\n        });\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <Field className=\"my-10\">\r\n        <Label>Search for users here:</Label>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search users by username...\"\r\n          className=\"px-5 py-4 text-[16px] font-semibold border border-gray-300 rounded-lg\"\r\n          onChange={handleFilter}\r\n        />\r\n      </Field>\r\n      <Table className=\"mt-10\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Avatar</th>\r\n            <th>Username</th>\r\n            <th>Email</th>\r\n            <th>Status</th>\r\n\r\n            <th>Role</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {userList.length > 0 &&\r\n            userList.map((user) => (\r\n              <tr key={user.id}>\r\n                <td title={user.id}>{displayTruncatedID(user.userId, 8)}</td>\r\n                <td>\r\n                  <a href={user.avatar} target=\"_blank\" rel=\"noreferrer\">\r\n                    <img\r\n                      src={user.avatar}\r\n                      alt=\"Avatar\"\r\n                      className=\"flex-shrink-0 object-cover w-10 h-10 rounded-full\"\r\n                    />\r\n                  </a>\r\n                </td>\r\n                <td>\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"font-semibold max-w-[200px] whitespace-pre-wrap\">\r\n                      {user.username}\r\n                    </h3>\r\n                    <time className=\"text-sm text-gray-500\">\r\n                      Created at:{\" \"}\r\n                      {displayLocalTimeAndDateBySeconds(user.createdAt.seconds)}\r\n                    </time>\r\n                  </div>\r\n                </td>\r\n                <td>{user.email}</td>\r\n                <td>{renderLabelStatus(user?.status)}</td>\r\n                <td>{renderUserRole(user?.role)}</td>\r\n                <td>\r\n                  <div className=\"flex gap-5 text-gray-400\">\r\n                    <ActionView></ActionView>\r\n                    <ActionEdit\r\n                      onClick={() =>\r\n                        navigate(`/manage/update-user?userId=${user.userId}`)\r\n                      }\r\n                    ></ActionEdit>\r\n                    <ActionDelete\r\n                      onClick={() => handleDeleteUser(user)}\r\n                    ></ActionDelete>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n      {!isEmpty ? (\r\n        <div className=\"mt-10\">\r\n          <Button onClick={handleLoadMoreUsers}>Load more</Button>\r\n        </div>\r\n      ) : (\r\n        <DashboardHeading\r\n          className=\"italic text-center\"\r\n          desc=\"The end.\"\r\n          title=\"No more data\"\r\n        ></DashboardHeading>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserTable;\r\n","import { Button } from \"components/Button\";\r\nimport { useAuth } from \"contexts/auth-context\";\r\n\r\nimport DashboardHeading from \"module/Category/DashboardHeading\";\r\nimport { userRole } from \"utils/constants\";\r\nimport UserTable from \"./UserTable\";\r\n\r\nconst UserManage = () => {\r\n  const { userInfo } = useAuth();\r\n  if (userInfo?.role !== userRole.ADMIN && userInfo?.role !== userRole.MOD)\r\n    return null;\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between\">\r\n        <DashboardHeading\r\n          title=\"Users\"\r\n          desc=\"Manage your user\"\r\n        ></DashboardHeading>\r\n        <Button to=\"/manage/add-user\" kind=\"ghost\">\r\n          Create a new user\r\n        </Button>\r\n      </div>\r\n      <UserTable></UserTable>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserManage;\r\n"],"names":["onClick","className","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","TableStyles","styled","props","theme","primary","children","useState","userList","setUserList","lastDoc","setLastDoc","filter","setFilter","isEmpty","setIsEmpty","handleFilter","debounce","e","target","value","handleLoadMoreUsers","nextQuery","query","collection","db","orderBy","startAfter","limit","onSnapshot","snapshot","results","docs","forEach","doc","push","id","data","isCollectionEmpty","size","getDocs","documentSnapshots","lastVisible","length","useEffect","colRef","firstQuery","where","getUsers","navigate","useNavigate","useFormattedDisplay","displayLocalTimeAndDateBySeconds","displayTruncatedID","renderLabelStatus","status","userStatus","Label","type","renderUserRole","role","userRole","class","handleDeleteUser","user","userId","Swal","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","deleteDoc","timer","Field","placeholder","onChange","Table","map","href","avatar","rel","src","alt","username","createdAt","seconds","email","Action","DashboardHeading","desc","Button","userInfo","useAuth","to","kind"],"sourceRoot":""}