"use strict";(self.webpackChunkunicorn_blog=self.webpackChunkunicorn_blog||[]).push([[673],{7963:function(e,n,r){r.d(n,{f:function(){return t}});var t="https://api.imgbb.com/1/upload?key=3c83bf0d94037028b0b4041a18bcb093"},1023:function(e,n,r){r.d(n,{L:function(){return p}});var t=r(1413),a=r(4925),s=r(885),i=r(2791),o=r(184),c=(0,i.createContext)();function l(e){var n=(0,i.useState)(!1),r=(0,s.Z)(n,2),a=r[0],l=r[1],u={show:a,setShow:l,handleToggleDropdown:function(){l(!a)}};return(0,o.jsx)(c.Provider,(0,t.Z)((0,t.Z)({value:u},e),{},{children:e.children}))}function u(){var e=(0,i.useContext)(c);if("undefined"===typeof e)throw new Error("useDropdown must be used within DropdownProvider");return e}var d=["children"],p=function(e){var n=e.children,r=(0,a.Z)(e,d);return(0,o.jsx)(l,(0,t.Z)((0,t.Z)({},r),{},{children:(0,o.jsx)("div",{className:"relative inline-block w-full",children:n})}))},h=function(e){var n=e.onClick,r=u().setShow;return(0,o.jsx)("div",{className:"py-[15px] px-[25px] transition-all border-l-4 border-l-transparent cursor-pointer flex items-center justify-between hover:text-primary hover:border-l-primary",onClick:function(){n&&n(),r(!1)},children:e.children})},m=["placeholder"],f=function(e){var n=e.placeholder,r=(0,a.Z)(e,m),s=u().onChange;return(0,o.jsx)("div",{className:"p-2",children:(0,o.jsx)("input",(0,t.Z)({type:"text",placeholder:n,className:"w-full p-4 border border-gray-200 rounded outline-none",onChange:s},r))})},x=r(950),g=function(e){var n=e.placeholder,r=void 0===n?"Please select an category":n,t=e.className,a=void 0===t?"":t,s=u(),i=s.show,c=s.handleToggleDropdown;return(0,o.jsxs)("div",{className:"".concat(a," py-[15px] rounded-lg border border-gray-200 px-[25px] cursor-pointer flex items-center justify-between"),onClick:c,children:[(0,o.jsx)("span",{children:r}),(0,o.jsx)("span",{children:i?(0,o.jsx)(x.Cz,{}):(0,o.jsx)(x.BD,{})})]})},v=function(e){var n=e.children,r=u().show;return(0,o.jsx)(o.Fragment,{children:r&&(0,o.jsx)("div",{className:"absolute left-0 z-20 w-full bg-white border border-gray-200 shadow-sm border-t-transparent top-full",children:n})})};p.Option=h,p.Search=f,p.Select=g,p.List=v},4762:function(e,n,r){r.d(n,{Y:function(){return c}});var t=r(1413),a=r(4925),s=(r(2791),r(1134)),i=r(184),o=["checked","children","control","name"],c=function(e){var n=e.checked,r=e.children,c=e.control,l=e.name,u=(0,a.Z)(e,o),d=(0,s.bc)({control:c,name:l,defaultValue:""}).field;return(0,i.jsxs)("label",{children:[(0,i.jsx)("input",(0,t.Z)((0,t.Z)({checked:n,type:"radio",className:"hidden-input"},d),u)),(0,i.jsxs)("div",{className:"flex items-center font-medium cursor-pointer gap-x-3",children:[(0,i.jsx)("div",{className:"w-7 h-7 rounded-full border flex items-center justify-center p-1  ".concat(n?"bg-primary border-primary text-white":"border-gray-300 border-2 text-transparent"),children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,i.jsx)("span",{children:r})]})]})}},7050:function(e,n,r){r.d(n,{Z:function(){return o}});var t=r(1413),a=r(4925),s=(r(2791),r(184)),i=["name","on","onClick"],o=function(e){var n=e.name,r=e.on,o=e.onClick,c=(0,a.Z)(e,i);return(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",name:n,id:n,checked:r,onClick:o,className:"hidden-input",onChange:function(){}}),(0,s.jsx)("div",(0,t.Z)((0,t.Z)({className:"inline-block w-[100px] h-[52px] relative cursor-pointer rounded-full p-1 transition-all ".concat(r?"bg-primary":"bg-gray-300")},c),{},{children:(0,s.jsx)("span",{className:"transition-all w-11 h-11 bg-white rounded-full inline-block ".concat(r?"translate-x-[48px]":"")})}))]})}},2673:function(e,n,r){r.r(n);var t=r(1413),a=r(4165),s=r(5861),i=r(885),o=r(9062),c=r(2791),l=r(1134),u=r(6770),d=r.n(u),p=r(8113),h=r(1087),m=r(3951),f=r(1023),x=r(8654),g=r(5510),v=r(2112),b=r(4762),j=r(7050),w=r(5593),Z=r(1199),y=r(3663),k=r(6524),N=r(3585),C=(r(6009),r(9085)),E=r(7963),L=r(1044),S=r(184);u.Quill.register("modules/imageUploader",p.Z);n.default=function(){var e=(0,h.lr)(),n=(0,i.Z)(e,1)[0].get("id"),r=(0,c.useState)([]),u=(0,i.Z)(r,2),p=u[0],_=u[1],P=(0,c.useState)(""),U=(0,i.Z)(P,2),D=U[0],R=U[1],I=(0,c.useState)(""),F=(0,i.Z)(I,2),T=F[0],q=F[1],J=(0,l.cI)({mode:"onSubmit"}),V=J.handleSubmit,O=J.control,Y=J.watch,A=J.reset,z=J.setValue,Q=J.getValues,B=J.formState,G=B.isSubmitting,M=B.isValid,H=(B.errors,Number(Y("status"))),W=Y("popular"),K=Q("imageURL"),X=Q("image_name"),$=(0,y.Z)(z,Q,X,(function(){return se.apply(this,arguments)})),ee=$.handleRemoveImage,ne=$.setImageURL,re=$.imageURL,te=$.handleSelectImage,ae=$.progress;function se(){return(se=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){function e(){return(e=(0,s.Z)((0,a.Z)().mark((function e(){var r,t,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return r=(0,o.JU)(Z.db,"posts",n),e.next=5,(0,o.QT)(r);case 5:(t=e.sent).data()&&(A(t.data()),R((null===(s=t.data())||void 0===s?void 0:s.category)||""),q((null===(i=t.data())||void 0===i?void 0:i.content)||""));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,A]),(0,c.useEffect)((function(){function e(){return(e=(0,s.Z)((0,a.Z)().mark((function e(){var n,r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,o.hJ)(Z.db,"categories"),r=(0,o.IO)(n,(0,o.ar)("status","==",1)),e.next=4,(0,o.PL)(r);case 4:s=e.sent,i=[],s.forEach((function(e){i.push((0,t.Z)({id:e.id},e.data()))})),_(i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,c.useEffect)((function(){ne(K)}),[K,ne]);var ie=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,s=(0,t.Z)({},r),console.log(s),i=(0,o.JU)(Z.db,"posts",n),e.next=8,(0,o.r7)(i,(0,t.Z)((0,t.Z)({},s),{},{content:T}));case 8:C.Am.success("Post updated successfully",{autoClose:1500}),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}(),oe=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,o.JU)(Z.db,"categories",n.id),e.next=3,(0,o.QT)(r);case 3:s=e.sent,z("category",(0,t.Z)({id:s.id},s.data())),R(n);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ce=(0,c.useMemo)((function(){return{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,!1]}],["clean"],["image"]],imageUploader:{upload:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("image",n),e.next=4,(0,L.ZP)({method:"post",url:E.f,data:r,headers:{"Content-Type":"multipart/form-data"}});case 4:return t=e.sent,e.abrupt("return",t.data.data.url);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}}),[]);return n?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k.Z,{title:"Update your post",desc:"Update post's contents"}),(0,S.jsxs)("form",{className:"mt-10 form-layout",onSubmit:V(ie),children:[(0,S.jsxs)("div",{className:"grid grid-cols-2 mb-10 gap-x-10",children:[(0,S.jsxs)(x.g,{children:[(0,S.jsx)(v.__,{required:!0,htmlFor:"title",children:"Title"}),(0,S.jsx)(g.I,{control:O,placeholder:"Enter your title",name:"title"})]}),(0,S.jsxs)(x.g,{children:[(0,S.jsx)(v.__,{required:!0,htmlFor:"category",children:"Category"}),(0,S.jsxs)(f.L,{children:[(0,S.jsx)(f.L.Select,{}),(0,S.jsx)(f.L.List,{children:p.length>0&&p.map((function(e){return(0,S.jsx)(f.L.Option,{onClick:function(){return oe(e)},children:e.name},e.id)}))})]}),(null===D||void 0===D?void 0:D.name)&&(0,S.jsx)("span",{className:"inline-block p-4 text-sm font-semibold text-white rounded-lg bg-primary",children:null===D||void 0===D?void 0:D.name})]})]}),(0,S.jsx)("div",{className:"mb-10 entry-content",children:(0,S.jsxs)(x.g,{children:[(0,S.jsx)(v.__,{required:!0,children:"Edit your post's content:"}),(0,S.jsx)("div",{className:"w-full",children:(0,S.jsx)(d(),{modules:ce,theme:"snow",value:T,onChange:q})})]})}),(0,S.jsx)("div",{className:"w-full h-full mb-10",children:(0,S.jsxs)(x.g,{children:[(0,S.jsx)(v.__,{required:!0,htmlFor:"image",children:"Your thumbnail"}),(0,S.jsx)(w.U,{name:"image",imageURL:re,progress:ae,minHeight:"600px",onChange:te,handleRemoveImage:ee})]})}),(0,S.jsxs)("div",{className:"grid grid-cols-2 mb-10 gap-x-10",children:[(0,S.jsxs)(x.g,{children:[(0,S.jsx)(v.__,{required:!0,htmlFor:"status",children:"Status"}),(0,S.jsxs)(x.v,{children:[(0,S.jsx)(b.Y,{name:"status",control:O,checked:H===N.cf.APPROVED,value:N.cf.APPROVED,children:"Approved"}),(0,S.jsx)(b.Y,{name:"status",control:O,checked:H===N.cf.PENDING,value:N.cf.PENDING,children:"Pending"}),(0,S.jsx)(b.Y,{name:"status",control:O,checked:H===N.cf.REJECTED,value:N.cf.REJECTED,children:"Reject"})]})]}),(0,S.jsxs)(x.g,{children:[(0,S.jsx)(v.__,{htmlFor:"popular",children:"Popular post"}),(0,S.jsx)(j.Z,{name:"popular",on:!0===W,onClick:function(){return z("popular",!W)}})]})]}),(0,S.jsx)(m.z,{type:"submit",className:"mx-auto",disabled:G,isLoading:G,children:"Update your post"})]})]}):null}}}]);
//# sourceMappingURL=673.b8ff99df.chunk.js.map