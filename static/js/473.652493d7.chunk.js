"use strict";(self.webpackChunkunicorn_blog=self.webpackChunkunicorn_blog||[]).push([[473],{5473:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var a,s=t(4165),i=t(5861),r=t(885),o=t(168),c=t(330),d=t(1199),u=t(3540),l=t(9062),h=t(1711),p=t(2929),f=t(3853),x=t(2791),m=t(7689),g=t(6444),v=t(4298),b=t(7590),j=t(184),y=function(n){var e=n.userId,t=(0,x.useState)({}),a=(0,r.Z)(t,2),o=a[0],c=a[1];return(0,x.useEffect)((function(){function n(){return(n=(0,i.Z)((0,s.Z)().mark((function n(){var t,a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,l.JU)(d.db,"users",e),n.next=3,(0,l.QT)(t);case 3:a=n.sent,c(a.data());case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),(0,j.jsxs)("div",{className:"author",children:[(0,j.jsx)("div",{className:"author-image",children:(0,j.jsx)("img",{src:o.avatar,alt:""})}),(0,j.jsxs)("div",{className:"author-content",children:[(0,j.jsx)("h3",{className:"author-name",children:o.username}),(0,j.jsx)("p",{className:"author-desc line-clamp-5",children:null===o||void 0===o?void 0:o.bio})]})]})},Z=t(1413),w=t(4962),N=function(n){n.postId;var e=n.categoryId,t=(0,x.useState)([]),a=(0,r.Z)(t,2),s=a[0],i=a[1];return(0,x.useEffect)((function(){var n=(0,l.IO)((0,l.hJ)(d.db,"posts"),(0,l.ar)("categoryId","==",e),(0,l.b9)(4));(0,l.cf)(n,(function(n){var e=[];n.docs.forEach((function(n){e.push((0,Z.Z)({id:n.id},n.data()))})),i(e)}))}),[e]),!e||s.length<=0?null:(0,j.jsxs)("div",{className:"post-related",children:[(0,j.jsx)(c.X6,{children:"Related articles"}),(0,j.jsx)("div",{className:"grid-layout grid-layout--primary",children:s.map((function(n){return(0,j.jsx)(w.Z,{post:n},n.id)}))})]})},I=g.ZP.div(a||(a=(0,o.Z)(["\n  .post {\n    &-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      gap: 40px;\n      margin: 40px 0;\n    }\n    &-feature {\n      width: 100%;\n      max-width: 640px;\n      height: 466px;\n      border-radius: 20px;\n    }\n    &-heading {\n      font-weight: bold;\n      font-size: 36px;\n      margin-bottom: 16px;\n    }\n    &-info {\n      flex: 1;\n    }\n    &-content {\n      max-width: 700px;\n      margin: 80px auto;\n    }\n  }\n  .author {\n    margin-top: 40px;\n    margin-bottom: 80px;\n    display: flex;\n    border-radius: 20px;\n    &-image {\n      width: 200px;\n      height: 200px;\n      flex-shrink: 0;\n      border-radius: inherit;\n    }\n    &-image img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      border-radius: inherit;\n    }\n    &-content {\n      flex: 1;\n      padding: 20px;\n    }\n    &-name {\n      font-weight: bold;\n      margin-bottom: 10px;\n      font-size: 20px;\n    }\n    &-desc {\n      font-size: 14px;\n      line-height: 2;\n    }\n  }\n  @media screen and (max-width: 1023.98px) {\n    padding-bottom: 40px;\n    .post {\n      &-header {\n        flex-direction: column;\n      }\n      &-feature {\n        height: auto;\n      }\n      &-heading {\n        font-size: 26px;\n      }\n      &-content {\n        margin: 40px 0;\n      }\n    }\n    .author {\n      flex-direction: column;\n      &-image {\n        width: 100%;\n        height: auto;\n      }\n    }\n  }\n"]))),k=function(){var n,e=(0,m.UO)().slug,t=(0,x.useState)({}),a=(0,r.Z)(t,2),o=a[0],g=a[1],Z=(0,b.Z)().displayLocaleDateBySeconds;return(0,x.useEffect)((function(){function n(){return(n=(0,i.Z)((0,s.Z)().mark((function n(){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:t=(0,l.IO)((0,l.hJ)(d.db,"posts"),(0,l.ar)("slug","==",e)),(0,l.cf)(t,(function(n){n.docs.forEach((function(n){n.data()&&g(n.data())}))}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[o.content,e]),(0,x.useEffect)((function(){document.body.scrollIntoView({block:"start"})}),[e]),e?null!==o&&void 0!==o&&o.title?(0,j.jsx)(I,{children:(0,j.jsx)(c.Ar,{children:(0,j.jsxs)("div",{className:"container",children:[(0,j.jsxs)("div",{className:"post-header",children:[(0,j.jsx)(p.Z,{src:o.imageURL,className:"post-feature"}),(0,j.jsxs)("div",{className:"post-info",children:[(0,j.jsx)(h.Z,{className:"mb-6",to:null===(n=o.category)||void 0===n?void 0:n.slug,children:o.category.name}),(0,j.jsx)("h1",{className:"post-heading",children:o.title}),(0,j.jsx)(f.Z,{date:Z(o.createdAt.seconds),username:o.user.username})]})]}),(0,j.jsxs)("div",{className:"post-content",children:[(0,j.jsx)("div",{className:"entry-content",children:(0,u.ZP)(o.content)}),(0,j.jsx)(y,{userId:o.user.userId})]}),(0,j.jsx)(N,{categoryId:null===o||void 0===o?void 0:o.categoryId})]})})}):null:(0,j.jsx)(v.Z,{})}}}]);
//# sourceMappingURL=473.652493d7.chunk.js.map