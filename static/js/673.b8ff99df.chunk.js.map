{"version":3,"file":"static/js/673.b8ff99df.chunk.js","mappings":"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","sources":["api-config.js","contexts/dropdown-context.js","components/Dropdown/Dropdown.js","components/Dropdown/Option.js","components/Dropdown/Search.js","components/Dropdown/Select.js","components/Dropdown/List.js","components/Dropdown/index.js","components/Radio/Radio.js","components/Toggle/Toggle.js","module/Post/PostUpdate.js"],"sourcesContent":["export const imgbbAPI =\r\n  \"https://api.imgbb.com/1/upload?key=3c83bf0d94037028b0b4041a18bcb093\";\r\n","import { createContext, useContext, useState } from \"react\";\r\n\r\nconst DropdownContext = createContext();\r\nfunction DropdownProvider(props) {\r\n  const [show, setShow] = useState(false);\r\n  const handleToggleDropdown = () => {\r\n    setShow(!show);\r\n  };\r\n  const value = {\r\n    show,\r\n    setShow,\r\n    handleToggleDropdown,\r\n  };\r\n  return (\r\n    <DropdownContext.Provider value={value} {...props}>\r\n      {props.children}\r\n    </DropdownContext.Provider>\r\n  );\r\n}\r\nfunction useDropdown() {\r\n  const context = useContext(DropdownContext);\r\n  if (typeof context === \"undefined\")\r\n    throw new Error(\"useDropdown must be used within DropdownProvider\");\r\n  return context;\r\n}\r\nexport { useDropdown, DropdownProvider };\r\n","import { DropdownProvider } from \"contexts/dropdown-context\";\r\nimport React from \"react\";\r\n\r\nconst Dropdown = ({ children, ...props }) => {\r\n  return (\r\n    <DropdownProvider {...props}>\r\n      <div className=\"relative inline-block w-full\">{children}</div>\r\n    </DropdownProvider>\r\n  );\r\n};\r\n\r\nexport default Dropdown;\r\n","import { useDropdown } from \"contexts/dropdown-context\";\r\nimport React from \"react\";\r\n\r\nconst Option = (props) => {\r\n  const { onClick } = props;\r\n  const { setShow } = useDropdown();\r\n  const handleClick = () => {\r\n    onClick && onClick();\r\n    setShow(false);\r\n  };\r\n  return (\r\n    <div\r\n      className=\"py-[15px] px-[25px] transition-all border-l-4 border-l-transparent cursor-pointer flex items-center justify-between hover:text-primary hover:border-l-primary\"\r\n      onClick={handleClick}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Option;\r\n","import { useDropdown } from \"contexts/dropdown-context\";\r\nimport React from \"react\";\r\n\r\nconst Search = ({ placeholder, ...props }) => {\r\n  const { onChange } = useDropdown();\r\n  return (\r\n    <div className=\"p-2\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder={placeholder}\r\n        className=\"w-full p-4 border border-gray-200 rounded outline-none\"\r\n        onChange={onChange}\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { IconArrowDown, IconArrowUp } from \"components/Icon\";\r\nimport { useDropdown } from \"contexts/dropdown-context\";\r\nimport React from \"react\";\r\n\r\nconst Select = ({\r\n  placeholder = \"Please select an category\",\r\n  className = \"\",\r\n}) => {\r\n  const { show, handleToggleDropdown } = useDropdown();\r\n  return (\r\n    <div\r\n      className={`${className} py-[15px] rounded-lg border border-gray-200 px-[25px] cursor-pointer flex items-center justify-between`}\r\n      onClick={handleToggleDropdown}\r\n    >\r\n      <span>{placeholder}</span>\r\n      <span>\r\n        {show ? <IconArrowUp></IconArrowUp> : <IconArrowDown></IconArrowDown>}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import { useDropdown } from \"contexts/dropdown-context\";\r\nimport React from \"react\";\r\n\r\nconst List = ({ children }) => {\r\n  const { show } = useDropdown();\r\n  return (\r\n    <>\r\n      {show && (\r\n        <div className=\"absolute left-0 z-20 w-full bg-white border border-gray-200 shadow-sm border-t-transparent top-full\">\r\n          {children}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","import Dropdown from \"./Dropdown\";\r\nimport Option from \"./Option\";\r\nimport Search from \"./Search\";\r\nimport Select from \"./Select\";\r\nimport List from \"./List\";\r\n\r\nDropdown.Option = Option;\r\nDropdown.Search = Search;\r\nDropdown.Select = Select;\r\nDropdown.List = List;\r\n\r\nexport { Dropdown };\r\n","import React from \"react\";\r\nimport { useController } from \"react-hook-form\";\r\n\r\nconst Radio = ({ checked, children, control, name, ...props }) => {\r\n  const { field } = useController({\r\n    control,\r\n    name,\r\n    defaultValue: \"\",\r\n  });\r\n  return (\r\n    <label>\r\n      <input\r\n        checked={checked}\r\n        type=\"radio\"\r\n        className=\"hidden-input\"\r\n        {...field}\r\n        {...props}\r\n      />\r\n      <div className=\"flex items-center font-medium cursor-pointer gap-x-3\">\r\n        <div\r\n          className={`w-7 h-7 rounded-full border flex items-center justify-center p-1  ${\r\n            checked\r\n              ? \"bg-primary border-primary text-white\"\r\n              : \"border-gray-300 border-2 text-transparent\"\r\n          }`}\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"w-6 h-6\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              d=\"M5 13l4 4L19 7\"\r\n            />\r\n          </svg>\r\n        </div>\r\n        <span>{children}</span>\r\n      </div>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Radio;\r\n","import React from \"react\";\r\n\r\nconst Toggle = ({ name, on, onClick, ...rest }) => {\r\n  return (\r\n    <label>\r\n      <input\r\n        type=\"checkbox\"\r\n        name={name}\r\n        id={name}\r\n        checked={on}\r\n        onClick={onClick}\r\n        className=\"hidden-input\"\r\n        onChange={() => {}}\r\n      />\r\n      <div\r\n        className={`inline-block w-[100px] h-[52px] relative cursor-pointer rounded-full p-1 transition-all ${\r\n          on ? \"bg-primary\" : \"bg-gray-300\"\r\n        }`}\r\n        {...rest}\r\n      >\r\n        <span\r\n          className={`transition-all w-11 h-11 bg-white rounded-full inline-block ${\r\n            on ? \"translate-x-[48px]\" : \"\"\r\n          }`}\r\n        ></span>\r\n      </div>\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default Toggle;\r\n","import {\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"firebase/firestore\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport ReactQuill, { Quill } from \"react-quill\";\r\nimport ImageUploader from \"quill-image-uploader\";\r\n\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nimport { Button } from \"components/Button\";\r\nimport { Dropdown } from \"components/Dropdown\";\r\nimport { Field, FieldCheckbox } from \"components/Field\";\r\nimport { Input } from \"components/Input\";\r\nimport { Label } from \"components/Label\";\r\nimport { Radio } from \"components/Radio\";\r\nimport { Toggle } from \"components/Toggle\";\r\nimport { ImageUpload } from \"components/Upload\";\r\nimport { db } from \"firebase-app/firebase-config\";\r\nimport useFirebaseImage from \"hooks/useFirebaseImage\";\r\nimport DashboardHeading from \"module/Category/DashboardHeading\";\r\nimport { postStatus } from \"utils/constants\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useMemo } from \"react\";\r\nimport { imgbbAPI } from \"api-config\";\r\nimport axios from \"axios\";\r\nQuill.register(\"modules/imageUploader\", ImageUploader);\r\n\r\nconst PostUpdate = () => {\r\n  const [searchParams] = useSearchParams();\r\n  const postId = searchParams.get(\"id\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectCategory, setSelectCategory] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const {\r\n    handleSubmit,\r\n    control,\r\n    watch,\r\n    reset,\r\n    setValue,\r\n    getValues,\r\n    formState: { isSubmitting, isValid, errors },\r\n  } = useForm({\r\n    mode: \"onSubmit\",\r\n  });\r\n  const watchStatus = Number(watch(\"status\"));\r\n  const watchPopular = watch(\"popular\");\r\n  const thumbnailImageURL = getValues(\"imageURL\");\r\n  const thumbnailImageName = getValues(\"image_name\");\r\n  const {\r\n    handleRemoveImage,\r\n    setImageURL,\r\n    imageURL,\r\n    handleSelectImage,\r\n    progress,\r\n  } = useFirebaseImage(\r\n    setValue,\r\n    getValues,\r\n    thumbnailImageName,\r\n    deleteThumbnail\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function getPost() {\r\n      if (!postId) return;\r\n      const docRef = doc(db, \"posts\", postId);\r\n      const docSnapshot = await getDoc(docRef);\r\n      if (docSnapshot.data()) {\r\n        reset(docSnapshot.data());\r\n        setSelectCategory(docSnapshot.data()?.category || \"\");\r\n        setContent(docSnapshot.data()?.content || \"\");\r\n      }\r\n    }\r\n    getPost();\r\n  }, [postId, reset]);\r\n  useEffect(() => {\r\n    async function getCategories() {\r\n      const colRef = collection(db, \"categories\");\r\n      const q = query(colRef, where(\"status\", \"==\", 1));\r\n      const docs = await getDocs(q);\r\n      let yourCategories = [];\r\n      docs.forEach((doc) => {\r\n        yourCategories.push({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        });\r\n      });\r\n      setCategories(yourCategories);\r\n    }\r\n    getCategories();\r\n  }, []);\r\n  useEffect(() => {\r\n    setImageURL(thumbnailImageURL);\r\n  }, [thumbnailImageURL, setImageURL]);\r\n\r\n  async function deleteThumbnail() {}\r\n  const handleUpdatePost = async (values) => {\r\n    if (!isValid) return;\r\n    try {\r\n      const cloneValues = { ...values };\r\n      console.log(cloneValues);\r\n      const docRef = doc(db, \"posts\", postId);\r\n      await updateDoc(docRef, {\r\n        ...cloneValues,\r\n        content,\r\n      });\r\n      toast.success(\"Post updated successfully\", {\r\n        autoClose: 1500,\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      return err;\r\n    }\r\n  };\r\n\r\n  const handleSelectOption = async (item) => {\r\n    const docRef = doc(db, \"categories\", item.id);\r\n    const docData = await getDoc(docRef);\r\n    setValue(\"category\", {\r\n      id: docData.id,\r\n      ...docData.data(),\r\n    });\r\n    // setValue(\"categoryId\", item.id);\r\n    setSelectCategory(item);\r\n  };\r\n  const modules = useMemo(\r\n    () => ({\r\n      toolbar: [\r\n        [\"bold\", \"italic\", \"underline\", \"strike\"],\r\n        [\"blockquote\"],\r\n        [\r\n          { align: \"\" },\r\n          { align: \"center\" },\r\n          { align: \"right\" },\r\n          { align: \"justify\" },\r\n        ],\r\n        [{ header: 1 }, { header: 2 }], // custom button values\r\n        [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n        [{ header: [1, 2, 3, 4, false] }],\r\n        [\"clean\"],\r\n        [(\"link\", \"image\")],\r\n      ],\r\n      imageUploader: {\r\n        upload: async (file) => {\r\n          const bodyFormData = new FormData();\r\n          bodyFormData.append(\"image\", file);\r\n          const response = await axios({\r\n            method: \"post\",\r\n            url: imgbbAPI,\r\n            data: bodyFormData,\r\n            headers: {\r\n              \"Content-Type\": \"multipart/form-data\",\r\n            },\r\n          });\r\n          return response.data.data.url;\r\n        },\r\n      },\r\n    }),\r\n    []\r\n  );\r\n  if (!postId) return null;\r\n  return (\r\n    <>\r\n      <DashboardHeading\r\n        title=\"Update your post\"\r\n        desc=\"Update post's contents\"\r\n      ></DashboardHeading>\r\n      <form\r\n        className=\"mt-10 form-layout\"\r\n        onSubmit={handleSubmit(handleUpdatePost)}\r\n      >\r\n        <div className=\"grid grid-cols-2 mb-10 gap-x-10\">\r\n          <Field>\r\n            <Label required={true} htmlFor=\"title\">\r\n              Title\r\n            </Label>\r\n            <Input\r\n              control={control}\r\n              placeholder=\"Enter your title\"\r\n              name=\"title\"\r\n            ></Input>\r\n          </Field>\r\n          <Field>\r\n            <Label required={true} htmlFor=\"category\">\r\n              Category\r\n            </Label>\r\n            <Dropdown>\r\n              <Dropdown.Select></Dropdown.Select>\r\n              <Dropdown.List>\r\n                {categories.length > 0 &&\r\n                  categories.map((item) => (\r\n                    <Dropdown.Option\r\n                      onClick={() => handleSelectOption(item)}\r\n                      key={item.id}\r\n                    >\r\n                      {item.name}\r\n                    </Dropdown.Option>\r\n                  ))}\r\n              </Dropdown.List>\r\n            </Dropdown>\r\n            {selectCategory?.name && (\r\n              <span className=\"inline-block p-4 text-sm font-semibold text-white rounded-lg bg-primary\">\r\n                {selectCategory?.name}\r\n              </span>\r\n            )}\r\n          </Field>\r\n        </div>\r\n        <div className=\"mb-10 entry-content\">\r\n          <Field>\r\n            <Label required={true}>Edit your post's content:</Label>\r\n            <div className=\"w-full\">\r\n              <ReactQuill\r\n                modules={modules}\r\n                theme=\"snow\"\r\n                value={content}\r\n                onChange={setContent}\r\n              />\r\n            </div>\r\n          </Field>\r\n        </div>\r\n        <div className=\"w-full h-full mb-10\">\r\n          <Field>\r\n            <Label required={true} htmlFor=\"image\">\r\n              Your thumbnail\r\n            </Label>\r\n            <ImageUpload\r\n              name=\"image\"\r\n              imageURL={imageURL}\r\n              progress={progress}\r\n              minHeight=\"600px\"\r\n              onChange={handleSelectImage}\r\n              handleRemoveImage={handleRemoveImage}\r\n            ></ImageUpload>\r\n          </Field>\r\n        </div>\r\n        <div className=\"grid grid-cols-2 mb-10 gap-x-10\">\r\n          <Field>\r\n            <Label required={true} htmlFor=\"status\">\r\n              Status\r\n            </Label>\r\n            <FieldCheckbox>\r\n              <Radio\r\n                name=\"status\"\r\n                control={control}\r\n                checked={watchStatus === postStatus.APPROVED}\r\n                value={postStatus.APPROVED}\r\n              >\r\n                Approved\r\n              </Radio>\r\n              <Radio\r\n                name=\"status\"\r\n                control={control}\r\n                checked={watchStatus === postStatus.PENDING}\r\n                value={postStatus.PENDING}\r\n              >\r\n                Pending\r\n              </Radio>\r\n              <Radio\r\n                name=\"status\"\r\n                control={control}\r\n                checked={watchStatus === postStatus.REJECTED}\r\n                value={postStatus.REJECTED}\r\n              >\r\n                Reject\r\n              </Radio>\r\n            </FieldCheckbox>\r\n          </Field>\r\n\r\n          <Field>\r\n            <Label htmlFor=\"popular\">Popular post</Label>\r\n            <Toggle\r\n              name=\"popular\"\r\n              on={watchPopular === true}\r\n              onClick={() => setValue(\"popular\", !watchPopular)}\r\n            ></Toggle>\r\n          </Field>\r\n        </div>\r\n        <Button\r\n          type=\"submit\"\r\n          className=\"mx-auto\"\r\n          disabled={isSubmitting}\r\n          isLoading={isSubmitting}\r\n        >\r\n          Update your post\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostUpdate;\r\n"],"names":["imgbbAPI","DropdownContext","createContext","DropdownProvider","props","useState","show","setShow","value","handleToggleDropdown","Provider","children","useDropdown","context","useContext","Error","className","onClick","placeholder","onChange","type","Icon","Dropdown","Option","Search","Select","List","checked","control","name","field","useController","defaultValue","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","on","rest","id","Quill","ImageUploader","useSearchParams","postId","get","categories","setCategories","selectCategory","setSelectCategory","content","setContent","useForm","mode","handleSubmit","watch","reset","setValue","getValues","formState","isSubmitting","isValid","watchStatus","errors","Number","watchPopular","thumbnailImageURL","thumbnailImageName","useFirebaseImage","handleRemoveImage","setImageURL","imageURL","handleSelectImage","progress","useEffect","docRef","doc","db","getDoc","docSnapshot","data","category","getPost","colRef","collection","q","query","where","getDocs","docs","yourCategories","forEach","push","getCategories","handleUpdatePost","values","cloneValues","console","log","updateDoc","toast","autoClose","handleSelectOption","item","docData","modules","useMemo","toolbar","align","header","list","imageUploader","upload","file","bodyFormData","FormData","append","axios","method","url","headers","response","title","desc","onSubmit","required","htmlFor","I","length","map","theme","minHeight","postStatus","disabled","isLoading"],"sourceRoot":""}