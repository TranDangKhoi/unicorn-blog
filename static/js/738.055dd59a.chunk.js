"use strict";(self.webpackChunkunicorn_blog=self.webpackChunkunicorn_blog||[]).push([[738],{190:function(e,n,r){r.d(n,{nO:function(){return i},yd:function(){return c},kl:function(){return s}});r(2791);var t=r(184),s=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})},c=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})},i=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},6178:function(e,n,r){r.d(n,{i:function(){return o}});var t,s=r(168),c=(r(2791),r(6444)),i=r(184),a=c.ZP.div(t||(t=(0,s.Z)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  &::-webkit-scrollbar {\n    width: 5px; // set width cho scrollbar\n    border-radius: 100rem;\n  }\n\n  &::-webkit-scrollbar-track {\n    width: 5px; // set width cho scrollbar\n\n    background: #ccc; // set background cho scrollbar track (c\xe1c ph\u1ea7n c\xf3 m\xe0u ghi ch\u01b0a \u0111\u01b0\u1ee3c k\xe9o t\u1edbi)\n    border-radius: 100rem;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    width: 5px; // set width cho scrollbar\n    background: ","; // setback ground cho ch\xednh thanh scrollbar\n    border-radius: 100rem;\n  }\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f0f0f0;\n  }\n  th,\n  td {\n    vertical-align: middle;\n    text-align: center;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 700;\n    text-align: center;\n  }\n  td {\n    padding: 15px 30px;\n    white-space: nowrap;\n  }\n  tbody {\n    background-color: #f8f8f8;\n  }\n  tbody td {\n    font-weight: 500;\n    font-size: 17px;\n  }\n  tbody tr {\n    border-bottom-color: transparent;\n  }\n  @media screen and (max-width: 1279.98px) {\n    thead th {\n      font-size: 16px;\n    }\n    tbody td {\n      font-size: 14px;\n    }\n  }\n"])),(function(e){return e.theme.primary})),o=function(e){var n=e.children,r=e.className,t=void 0===r?"":r;return(0,i.jsx)(a,{className:t,children:(0,i.jsx)("table",{children:n})})}},4738:function(e,n,r){r.r(n),r.d(n,{default:function(){return N}});var t=r(3951),s=r(9808),c=r(6524),i=r(3585),a=r(4165),o=r(2982),d=r(1413),u=r(5861),l=r(885),h=r(190),x=r(8654),f=r(2112),p=r(6178),m=r(1199),j=r(9062),v=r(7590),b=r(763),w=r(2791),g=r(7689),k=r(1830),y=r.n(k),Z=r(184),C=function(){var e=(0,w.useState)([]),n=(0,l.Z)(e,2),r=n[0],s=n[1],k=(0,w.useState)(),C=(0,l.Z)(k,2),N=C[0],I=C[1],L=(0,w.useState)(""),A=(0,l.Z)(L,2),E=A[0],D=A[1],M=(0,w.useState)(!1),B=(0,l.Z)(M,2),O=B[0],z=B[1],S=(0,b.debounce)((function(e){D(e.target.value)}),1e3),T=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var n,t,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,j.IO)((0,j.hJ)(m.db,"users"),(0,j.Xo)("username","desc"),(0,j.TQ)(N||0),(0,j.b9)(8)),(0,j.cf)(n,(function(e){var n=[];e.docs.forEach((function(e){n.push((0,d.Z)({id:e.id},e.data()))}));var t=0===e.size;z(t),s([].concat((0,o.Z)(r),n))})),e.next=4,(0,j.PL)(n);case 4:t=e.sent,c=t.docs[t.docs.length-1],I(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){function e(){return(e=(0,u.Z)((0,a.Z)().mark((function e(){var n,r,t,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,j.hJ)(m.db,"users"),r=E?(0,j.IO)(n,(0,j.ar)("username",">=",E),(0,j.ar)("username","<=",E+"utf8"),(0,j.Xo)("username","desc")):(0,j.IO)(n,(0,j.b9)(8),(0,j.Xo)("username","desc")),e.next=4,(0,j.PL)(r);case 4:t=e.sent,c=t.docs[t.docs.length-1],(0,j.cf)(r,n,(function(e){var n=[];e.docs.forEach((function(e){n.push((0,d.Z)({id:e.id},e.data()))})),s(n)})),I(c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E]);var P=(0,g.s0)(),U=(0,v.Z)(),_=U.displayLocalTimeAndDateBySeconds,J=U.displayTruncatedID;(0,w.useEffect)((function(){var e=(0,j.hJ)(m.db,"users");(0,j.cf)(e,(function(e){var n=[];e.docs.forEach((function(e){n.push((0,d.Z)({id:e.id},e.data()))})),s(n)}))}),[]);var Q=function(e){switch(e){case i.iQ.ACTIVE:return(0,Z.jsx)(f.OE,{type:"approved",children:"Active"});case i.iQ.PENDING:return(0,Z.jsx)(f.OE,{type:"pending",children:"Pending"});case i.iQ.BANNED:return(0,Z.jsx)(f.OE,{type:"reject",children:"Banned"})}},H=function(e){switch(e){case i.xZ.ADMIN:return(0,Z.jsxs)(f.Ci,{type:"admin",children:["Admin",(0,Z.jsx)("i",{class:"fa-solid fa-crown"})]});case i.xZ.MOD:return(0,Z.jsxs)(f.Ci,{type:"mod",children:["Mod ",(0,Z.jsx)("i",{class:"fa-solid fa-user-tie"})]});case i.xZ.USER:return(0,Z.jsxs)(f.Ci,{type:"user",children:["User ",(0,Z.jsx)("i",{class:"fa-solid fa-user"})]})}},W=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,j.JU)(m.db,"users",n.userId),y().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var e=(0,u.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=4;break}return e.next=3,(0,j.oe)(r);case 3:y().fire({icon:"success",title:"Deleted user successfully",timer:1500});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(x.g,{className:"my-10",children:[(0,Z.jsx)(f.__,{children:"Search for users here:"}),(0,Z.jsx)("input",{type:"text",placeholder:"Search users by username...",className:"px-5 py-4 text-[16px] font-semibold border border-gray-300 rounded-lg",onChange:S})]}),(0,Z.jsxs)(p.i,{className:"mt-10",children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:"ID"}),(0,Z.jsx)("th",{children:"Avatar"}),(0,Z.jsx)("th",{children:"Username"}),(0,Z.jsx)("th",{children:"Email"}),(0,Z.jsx)("th",{children:"Status"}),(0,Z.jsx)("th",{children:"Role"}),(0,Z.jsx)("th",{children:"Action"})]})}),(0,Z.jsx)("tbody",{children:r.length>0&&r.map((function(e){return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{title:e.id,children:J(e.userId,8)}),(0,Z.jsx)("td",{children:(0,Z.jsx)("a",{href:e.avatar,target:"_blank",rel:"noreferrer",children:(0,Z.jsx)("img",{src:e.avatar,alt:"Avatar",className:"flex-shrink-0 object-cover w-10 h-10 rounded-full"})})}),(0,Z.jsx)("td",{children:(0,Z.jsxs)("div",{className:"flex-1",children:[(0,Z.jsx)("h3",{className:"font-semibold max-w-[200px] whitespace-pre-wrap",children:e.username}),(0,Z.jsxs)("time",{className:"text-sm text-gray-500",children:["Created at:"," ",_(e.createdAt.seconds)]})]})}),(0,Z.jsx)("td",{children:e.email}),(0,Z.jsx)("td",{children:Q(null===e||void 0===e?void 0:e.status)}),(0,Z.jsx)("td",{children:H(null===e||void 0===e?void 0:e.role)}),(0,Z.jsx)("td",{children:(0,Z.jsxs)("div",{className:"flex gap-5 text-gray-400",children:[(0,Z.jsx)(h.kl,{}),(0,Z.jsx)(h.yd,{onClick:function(){return P("/manage/update-user?userId=".concat(e.userId))}}),(0,Z.jsx)(h.nO,{onClick:function(){return W(e)}})]})})]},e.id)}))})]}),O?(0,Z.jsx)(c.Z,{className:"italic text-center",desc:"The end.",title:"No more data"}):(0,Z.jsx)("div",{className:"mt-10",children:(0,Z.jsx)(t.z,{onClick:T,children:"Load more"})})]})},N=function(){var e=(0,s.a)().userInfo;return(null===e||void 0===e?void 0:e.role)!==i.xZ.ADMIN&&(null===e||void 0===e?void 0:e.role)!==i.xZ.MOD?null:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"flex justify-between",children:[(0,Z.jsx)(c.Z,{title:"Users",desc:"Manage your user"}),(0,Z.jsx)(t.z,{to:"/manage/add-user",kind:"ghost",children:"Create a new user"})]}),(0,Z.jsx)(C,{})]})}}}]);
//# sourceMappingURL=738.055dd59a.chunk.js.map